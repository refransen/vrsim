M.core_group={hoveroverlay:null};M.core_group.init_hover_events=function(Y,events){this.hoveroverlay=this.hoveroverlay||(function(){var overlay=new Y.Overlay({bodyContent:'Loading',visible:false,zIndex:2});overlay.render(Y.one('#page'));return overlay})();for(var id in events){var node=Y.one('#'+id);if(node){node=node.ancestor();node.on('mouseenter',function(e,content){M.core_group.hoveroverlay.set('xy',[this.getX()+(this.get('offsetWidth')/2),this.getY()+this.get('offsetHeight')-5]);M.core_group.hoveroverlay.set("bodyContent",content);M.core_group.hoveroverlay.show();M.core_group.hoveroverlay.get('boundingBox').setStyle('visibility','visible')},node,events[id]);node.on('mouseleave',function(e){M.core_group.hoveroverlay.hide();M.core_group.hoveroverlay.get('boundingBox').setStyle('visibility','hidden')},node)}}};M.core_group.init_index=function(Y,wwwroot,courseid){M.core_group.groupsCombo=new UpdatableGroupsCombo(wwwroot,courseid);M.core_group.membersCombo=new UpdatableMembersCombo(wwwroot,courseid)};M.core_group.groupslist=function(Y,preventgroupremoval){var actions={init:function(){Y.one('#groups').on('change',this.check_deletable,this);this.check_deletable()},check_deletable:function(){var candelete=true,optionselected=false;Y.one('#groups').get('options').each(function(option){if(option.get('selected')){optionselected=true;if(option.getAttribute('value')in preventgroupremoval)candelete=false}},this);var deletebutton=Y.one('#deletegroup');if(candelete&&optionselected){deletebutton.removeAttribute('disabled')}else deletebutton.setAttribute('disabled','disabled')}};actions.init()}