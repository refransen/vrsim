function toggleBlock(){if(document.getElementById('hideblock').style.display=='none'){document.getElementById('reportcontent').style.display='block';document.getElementById('hideblock').style.display='block';document.getElementById('showblock').style.display='none'}else{document.getElementById('reportcontent').style.display='none';document.getElementById('hideblock').style.display='none';document.getElementById('showblock').style.display='block'}}
function sortStudents(arrow,sortype,classid){var sortDirection="high";if(arrow.className=="downarrow"){arrow.className="uparrow"}else{arrow.className="downarrow";sortDirection="low"};var opts={lines:13,length:20,width:10,radius:30,corners:1,rotate:0,direction:1,color:'#000',speed:1,trail:60,shadow:false,hwaccel:false,className:'spinner',zIndex:2e9,top:'auto',left:'auto'},target=document.getElementById('overviewtable'),spinner=new Spinner(opts).spin(target);if(window.XMLHttpRequest){xmlhttp=new XMLHttpRequest()}else xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");xmlhttp.onreadystatechange=function(){if(xmlhttp.readyState==4&&xmlhttp.status==200){document.getElementById("overviewtable").innerHTML=xmlhttp.responseText;spinner.stop()}};xmlhttp.open("GET","/local/simbuild/teacher/overallchart_sort.php?sort="+sortype+"&dir="+sortDirection+"&class="+classid,true);xmlhttp.send()}
function DrawOverallChart(dataArr,labelsArr){var myToolTips=new Array();for(var i=0;i<dataArr.length;i++)myToolTips[i]=dataArr[i].toString()+' %';RGraph.Reset(document.getElementById('overallstudent'));var linechart=new RGraph.Line('overallstudent',dataArr).Set('filled',true).Set('fillstyle',['Gradient(#aadf5d:rgba(217,229,127,0))']).Set('colors',['#3d7105']).Set('linewidth',5).Set('hmargin',35).Set('gutter.left',0).Set('ymax',100).Set('noyaxis',true).Set('ylabels',false).Set('labels',labelsArr).Set('tooltips',myToolTips).Set('tooltips.coords.page',true).Set('tickmarks','circle').Set('tickmarks.dot.color',['#3d7105']).Set('background.grid.autofit.numhlines',10).Set('background.grid.autofit.numvlines',40).Set('background.grid.dashed',true).Set('chart.background.barcolor1','#fafafa').Set('chart.background.barcolor2','#fafafa').Draw()}
function OnButtonClick(selectedButton,mydata,mylabels){selectedButton.className="button selected";var buttons=document.getElementsByClassName('button');for(var i=0;i<buttons.length;i++)if(buttons[i]!==selectedButton)buttons[i].className='button';var graphWidth=125*mylabels.length;if(graphWidth<800)graphWidth=700;var contentStr='<canvas id="overallstudent" width="'+graphWidth+'" height="225" >[No canvas support]</canvas>';document.getElementById("chartdiv").innerHTML=contentStr;DrawOverallChart(mydata,mylabels)}
function DrawAcademicSkills(dataArr,lineDataArr,labelsArr){var specificLables=new Array();for(var i=0;i<dataArr.length;i++)specificLables[i]=dataArr[i]+'%';var line=new RGraph.Line('academicskills',lineDataArr).Set('background.grid.dashed',true).Set('background.grid.autofit.numhlines',5).Set('background.grid.autofit.numvlines',10).Set('chart.background.barcolor1','#fafafa').Set('chart.background.barcolor2','#fafafa').Set('filled',true).Set('fillstyle',['Gradient(#b848d0:rgba(255,255,255,0))']).Set('colors',['#911fa9']).Set('linewidth',2).Set('hmargin',43).Set('ymax',100).Set('gutter.left',40).Set('gutter.bottom',35).Set('ylabels',false).Set('noaxes',true).Draw(),newLabelArr=new Array();for(var i=0;i<labelsArr.length;i++){var tempLabel=labelsArr[i].split(" "),newLabel=tempLabel;if(tempLabel.length>1)newLabel=tempLabel[0]+'\r\n'+tempLabel[1];newLabelArr[i]=newLabel};var bar=new RGraph.Bar('academicskills',dataArr).Set('colors',['#b848d0']).Set('ymax',100).Set('background.grid',false).Set('ylabels.count',3).Set('ylabels.specific',['100%','50%','0%']).Set('labels',newLabelArr).Set('labels.above.specific',specificLables).Set('hmargin',15).Set('gutter.left',40).Set('gutter.bottom',35).Draw()}
function DrawFoundationSkills(dataArr,lineDataArr,labelsArr){var specificLables=new Array();for(var i=0;i<dataArr.length;i++)specificLables[i]=dataArr[i]+'%';var line=new RGraph.Line('foundationskills',lineDataArr).Set('background.grid.dashed',true).Set('background.grid.autofit.numhlines',5).Set('background.grid.autofit.numvlines',10).Set('chart.background.barcolor1','#fafafa').Set('chart.background.barcolor2','#fafafa').Set('filled',true).Set('fillstyle',['Gradient(#4796d1:rgba(255,255,255,0))']).Set('colors',['#1a6aa5']).Set('linewidth',2).Set('hmargin',43).Set('ymax',100).Set('gutter.left',40).Set('gutter.bottom',35).Set('ylabels',false).Set('noaxes',true).Draw(),bar=new RGraph.Bar('foundationskills',dataArr).Set('colors',['#4796d1']).Set('ymax',100).Set('background.grid',false).Set('ylabels.count',3).Set('ylabels.specific',['100%','50%','0%']).Set('text.color','#000000').Set('labels.above.specific',specificLables).Set('hmargin',15).Set('gutter.left',40).Set('gutter.bottom',35).Set('labels',labelsArr).Draw()}
function DrawBuildingSkills(dataArr,lineDataArr,labelsArr){var specificLables=new Array();for(var i=0;i<dataArr.length;i++)specificLables[i]=dataArr[i]+'%';var line=new RGraph.Line('buildingskills',lineDataArr).Set('background.grid.dashed',true).Set('background.grid.autofit.numhlines',5).Set('background.grid.autofit.numvlines',20).Set('chart.background.barcolor1','#fafafa').Set('chart.background.barcolor2','#fafafa').Set('filled',true).Set('fillstyle',['Gradient(#f58323:rgba(255,255,255,0))']).Set('colors',['#c45a00']).Set('linewidth',2).Set('hmargin',43).Set('ymax',100).Set('gutter.left',40).Set('ylabels',false).Set('noaxes',true).Draw(),bar=new RGraph.Bar('buildingskills',dataArr).Set('colors',['#f58323']).Set('ymax',100).Set('background.grid',false).Set('ylabels.count',3).Set('ylabels.specific',['100%','50%','0%']).Set('text.color','#000000').Set('labels.above.specific',specificLables).Set('hmargin',15).Set('gutter.left',40).Set('labels',labelsArr).Draw()}
function DrawConstructionReport(dataArr,labelsArr){var myToolTips=new Array();for(var i=0;i<dataArr.length;i++)myToolTips[i]=dataArr[i].toString()+' %';var linechart=new RGraph.Line('constructionStudent',dataArr).Set('filled',true).Set('fillstyle',['Gradient(#ea7000:rgba(255,255,255,0))']).Set('colors',['#a94416']).Set('linewidth',5).Set('hmargin',50).Set('gutter.left',0).Set('gutter.right',25).Set('ymax',100).Set('noyaxis',true).Set('ylabels',false).Set('labels',labelsArr).Set('tooltips',myToolTips).Set('tooltips.coords.page',true).Set('tickmarks','circle').Set('tickmarks.dot.color',['#a94416']).Set('background.grid.autofit.numhlines',10).Set('background.grid.autofit.numvlines',40).Set('background.grid.dashed',true).Set('chart.background.barcolor1','#fafafa').Set('chart.background.barcolor2','#fafafa').Draw()}
function DrawAcademicReport(dataArr,labelsArr){var myToolTips=new Array();for(var i=0;i<dataArr.length;i++)myToolTips[i]=dataArr[i].toString()+' %';var linechart=new RGraph.Line('academicStudent',dataArr).Set('filled',true).Set('fillstyle',['Gradient(#ca90d8:rgba(255,255,255,0))']).Set('colors',['#731e86']).Set('linewidth',5).Set('hmargin',30).Set('gutter.left',3).Set('ymax',100).Set('noyaxis',true).Set('ylabels',false).Set('labels',labelsArr).Set('tooltips',myToolTips).Set('tooltips.coords.page',true).Set('tickmarks','circle').Set('tickmarks.dot.color',['#731e86']).Set('background.grid.autofit.numhlines',10).Set('background.grid.autofit.numvlines',40).Set('background.grid.dashed',true).Set('chart.background.barcolor1','#fafafa').Set('chart.background.barcolor2','#fafafa').Draw()}